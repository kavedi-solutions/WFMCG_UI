<page-header
  class="bg-blue-600"
  [title]="PageTitle"
  [showBack]="false"
  [showAdd]="false"
></page-header>

<form class="form-field-full page-detail" [formGroup]="registerForm">
  <mat-card>
    <div class="matero-row" fxLayout.lt-sm="column" fxLayout="row">
      <div fxFlex="30%" fxFlex.lt-sm="100" class="matero-col">
        <div class="matero-row" fxLayout.lt-sm="column" fxLayout="row">
          <div fxFlex="50%" fxFlex.lt-sm="100" class="matero-col">
            <mat-form-field appearance="legacy" color="primary">
              <input
                matInput
                [matDatepicker]="FromDatePicker"
                placeholder="From Date"
                formControlName="FromDate"
                [min]="FromMinDate"
                [max]="FromMaxDate"
                (dateChange)="FromDateChange()"
              />
              <mat-datepicker-toggle
                matSuffix
                [for]="FromDatePicker"
                [tabIndex]="-1"
                ><mat-icon matDatepickerToggleIcon
                  >keyboard_arrow_down</mat-icon
                ></mat-datepicker-toggle
              >
              <mat-datepicker #FromDatePicker></mat-datepicker>
            </mat-form-field>
          </div>
          <div fxFlex="50%" fxFlex.lt-sm="100" class="matero-col">
            <mat-form-field appearance="legacy" color="primary">
              <input
                matInput
                [matDatepicker]="ToDatePicker"
                placeholder="To Date"
                formControlName="ToDate"
                [min]="ToMinDate"
                [max]="ToMaxDate"
                (dateChange)="ToDateChange()"
              />
              <mat-datepicker-toggle
                matSuffix
                [for]="ToDatePicker"
                [tabIndex]="-1"
                ><mat-icon matDatepickerToggleIcon
                  >keyboard_arrow_down</mat-icon
                ></mat-datepicker-toggle
              >
              <mat-datepicker #ToDatePicker></mat-datepicker>
            </mat-form-field>
          </div>
        </div>
        <div class="matero-row" fxLayout.lt-sm="column" fxLayout="row">
          <div fxFlex="100%" fxFlex.lt-sm="100" class="matero-col">
            <mat-radio-group
              aria-label="Select an option"
              formControlName="OutputType"
              (change)="ChangeOutputType()"
            >
              <mat-radio-button value="S">Summary</mat-radio-button>
              <mat-radio-button value="D">Details</mat-radio-button>
            </mat-radio-group>
          </div>
        </div>
        <div class="matero-row" fxLayout.lt-sm="column" fxLayout="row">
          <div
            fxFlex="100%"
            *ngIf="registerForm.get('OutputType')?.value == 'S'"
            fxFlex.lt-sm="100"
            class="matero-col m-t-16"
          >
            <mat-slide-toggle
              color="primary"
              class="slide_toggle_style"
              formControlName="MonthWiseSummary"
            >
              Include Monthwise Summary
            </mat-slide-toggle>
          </div>
          <div
            fxFlex="100%"
            *ngIf="registerForm.get('OutputType')?.value == 'D'"
            fxFlex.lt-sm="100"
            class="matero-col m-t-16"
          >
            <mat-slide-toggle
              color="primary"
              class="slide_toggle_style"
              formControlName="ItemWiseSummary"
            >
              Include Itemwise Summary
            </mat-slide-toggle>
          </div>
        </div>
      </div>
      <div fxFlex="70%" fxFlex.lt-sm="100" class="matero-col">
        <div class="matero-row" fxLayout.lt-sm="column" fxLayout="row">
          <div fxFlex="100%" fxFlex.lt-sm="100" class="matero-col">
            <mtx-grid
              class="table-main-wrapper mtx-grid-purchase"
              [data]="accountsData"
              [columns]="columns"
              [multiSelectable]="true"
              [rowSelectable]="true"
              [hideRowSelectionCheckbox]="false"
              [pageOnFront]="false"
              [showPaginator]="false"
              [showToolbar]="false"
              [showSummary]="false"
              [showColumnMenuButton]="false"
              (rowSelectionChange)="rowSelectionChange($event)"
            >
            </mtx-grid>
          </div>
        </div>
      </div>
    </div>
    <mat-card-actions align="end" class="area-mat-card-actions m-r-0">
      <button
        type="button"
        mat-raised-button
        color="primary"
        [disabled]="!registerForm.valid && selectedeAccountsData.length == 0"
        (click)="GenerateReport()"
      >
        Generate (Print)
      </button>
    </mat-card-actions>
  </mat-card>
</form>
