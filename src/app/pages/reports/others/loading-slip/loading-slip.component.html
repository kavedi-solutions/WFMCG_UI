<page-header
  class="bg-blue-600"
  [title]="PageTitle"
  [showBack]="false"
  [showAdd]="false"
></page-header>

<form class="form-field-full page-detail" [formGroup]="loadingSlipForm">
  <mat-card>
    <div class="matero-row" fxLayout.lt-sm="column" fxLayout="row">
      <div fxFlex="15%" fxFlex.lt-sm="100" class="matero-col">
        <mat-form-field appearance="legacy" color="primary">
          <input
            matInput
            [matDatepicker]="FromDatePicker"
            placeholder="From Date"
            formControlName="FromDate"
            [min]="FromMinDate"
            [max]="FromMaxDate"
            (dateChange)="FromDateChange()"
          />
          <mat-datepicker-toggle
            matSuffix
            [for]="FromDatePicker"
            [tabIndex]="-1"
            ><mat-icon matDatepickerToggleIcon
              >keyboard_arrow_down</mat-icon
            ></mat-datepicker-toggle
          >
          <mat-datepicker #FromDatePicker></mat-datepicker>
        </mat-form-field>
      </div>
      <div fxFlex="15%" fxFlex.lt-sm="100" class="matero-col">
        <mat-form-field appearance="legacy" color="primary">
          <input
            matInput
            [matDatepicker]="ToDatePicker"
            placeholder="To Date"
            formControlName="ToDate"
            [min]="ToMinDate"
            [max]="ToMaxDate"
            (dateChange)="ToDateChange()"
          />
          <mat-datepicker-toggle matSuffix [for]="ToDatePicker" [tabIndex]="-1"
            ><mat-icon matDatepickerToggleIcon
              >keyboard_arrow_down</mat-icon
            ></mat-datepicker-toggle
          >
          <mat-datepicker #ToDatePicker></mat-datepicker>
        </mat-form-field>
      </div>
      <div fxFlex="30%" fxFlex.lt-sm="100" class="matero-col m-12">
        <mat-slide-toggle
          color="primary"
          class="slide_toggle_style"
          formControlName="PrintInvoice"
        >
          Print Invoice List
        </mat-slide-toggle>
      </div>
    </div>
    <div class="matero-row" fxLayout.lt-sm="column" fxLayout="row">
      <div fxFlex="40%" fxFlex.lt-sm="100" class="matero-col">
        <mat-form-field appearance="legacy" color="primary">
          <mat-label>Select Book</mat-label>
          <mat-select
            id="BookAccountName"
            formControlName="BookAccountID"
            required
            (valueChange)="BookAccountIDSelectionChange($event)"
          >
            <mat-option
              *ngFor="let sbdd of booksDropDown"
              [value]="sbdd.account_Id"
            >
              {{ sbdd.account_Name }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div fxFlex="10%" fxFlex.lt-sm="100" class="matero-col">
        <mat-form-field appearance="legacy" color="primary">
          <mat-label>From Bill No</mat-label>
          <mat-select
            formControlName="FromNo"
            required
            [(value)]="SelectedFromBill"
          >
            <mat-option *ngFor="let sbdd of billDropDown" [value]="sbdd">
              {{ sbdd }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div fxFlex="10%" fxFlex.lt-sm="100" class="matero-col">
        <mat-form-field appearance="legacy" color="primary">
          <mat-label>To Bill No</mat-label>
          <mat-select
            formControlName="ToNo"
            required
            [(value)]="SelectedToBill"
          >
            <mat-option *ngFor="let sbdd of billDropDown" [value]="sbdd">
              {{ sbdd }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div fxFlex="10%" fxFlex.lt-sm="100" class="m-t-4 matero-col text-right">
        <button
          type="button"
          mat-raised-button
          [disabled]="!loadingSlipForm.valid"
          (click)="AddtoList()"
          color="accent"
        >
          Add
        </button>
      </div>
    </div>

    <div class="matero-row" fxLayout.lt-sm="column" fxLayout="row">
      <div fxFlex="100%" fxFlex.lt-sm="100" class="matero-col">
        <mtx-grid
          class="table-main-wrapper"
          [data]="headerFilterData"
          [columns]="columns"
          [length]="ItemCount"
          [rowSelectable]="true"
          [hideRowSelectionCheckbox]="true"
          [rowHover]="true"
          [rowStriped]="false"
          [pageOnFront]="false"
          [showPaginator]="false"
        >
        </mtx-grid>
      </div>
    </div>
    <mat-card-actions align="end" class="area-mat-card-actions m-r-0">
      <button
        type="button"
        mat-raised-button
        color="secondery"
        [disabled]="headerFilterData.length == 0"
        (click)="ClearForm(loadingSlipForm)"
      >
        Clear All
      </button>
      <button
        type="button"
        mat-raised-button
        color="primary"
        [disabled]="headerFilterData.length == 0"
        (click)="GenerateLoadingSlip()"
      >
        Print
      </button>
    </mat-card-actions>
  </mat-card>
</form>
